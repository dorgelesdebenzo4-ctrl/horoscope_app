<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>L'Oracle des Ã‰toiles</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;900&family=Crimson+Text:ital,wght@0,400;0,600;1,400;1,600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">
</head>
<body>

<!-- Ciel Ã©toilÃ© -->
<canvas id="sky"></canvas>
<div class="nebula"></div>

<!-- Particules -->
<div id="particles"></div>

<div class="app">

  <!-- â•â• HEADER â•â• -->
  <header class="header">
    <span class="header-ornament">â˜½ âœ¦ â˜¾</span>
    <h1>L'Oracle des Ã‰toiles</h1>
    <p class="header-sub">DÃ©couvrez ce que les astres vous rÃ©servent</p>
    <div class="divider">
      <span class="divider-line"></span>
      <span class="divider-star">âœ¦ âœ¦ âœ¦</span>
      <span class="divider-line right"></span>
    </div>
  </header>

  <!-- â•â• FORMULAIRE â•â• -->
  <div class="form-card" id="formCard">
    <div class="form-group">
      <label for="prenom">Votre PrÃ©nom</label>
      <input
        type="text"
        id="prenom"
        placeholder="Entrez votre prÃ©nomâ€¦"
        maxlength="40"
        autocomplete="off"
      >
    </div>

    <div class="form-row">
      <div class="form-group" style="margin-bottom:0">
        <label for="genre">Genre</label>
        <select id="genre">
          <option value="">â€” Choisir â€”</option>
          <option value="M">Masculin</option>
          <option value="F">FÃ©minin</option>
          <option value="N">Neutre</option>
        </select>
      </div>
      <div class="form-group" style="margin-bottom:0">
        <label for="dob">Date de naissance</label>
        <input type="date" id="dob" max="">
      </div>
    </div>

    <div class="error-msg" id="errorMsg">âš  Veuillez remplir tous les champs.</div>

    <button class="btn-oracle" onclick="consulterOracle()">
      <span>âœ¦ Consulter l'Oracle âœ¦</span>
    </button>
  </div>

  <!-- â•â• RÃ‰SULTAT â•â• -->
  <div id="result">
    <div class="result-card">

      <!-- Hero signe -->
      <div class="result-hero">
        <span class="sign-emoji" id="signEmoji"></span>
        <p class="greeting-name" id="greetingName"></p>
        <h2 class="sign-name" id="signName"></h2>
        <p class="sign-dates" id="signDates"></p>
        <span class="sign-element" id="signElement"></span>
      </div>

      <!-- Corps -->
      <div class="result-body">
        <div class="info-block">
          <div class="info-label">PersonnalitÃ©</div>
          <p class="info-text" id="signPerso"></p>
        </div>
        <div class="info-block">
          <div class="info-label">PlanÃ¨te gouvernante</div>
          <p class="info-text" id="signPlanete"></p>
        </div>
        <div class="info-block">
          <div class="info-label">CompatibilitÃ© amoureuse</div>
          <p class="info-text" id="signCompat"></p>
        </div>
      </div>

      <!-- Traits de caractÃ¨re -->
      <div class="traits-grid" id="traitsGrid"></div>

      <!-- PrÃ©diction -->
      <div class="prediction-block">
        <p class="prediction-text" id="predictionText"></p>
      </div>

      <!-- Reset -->
      <button class="btn-reset" onclick="recommencer()">â†º Consulter Ã  nouveau</button>
    </div>
  </div>

</div><!-- /app -->

<script>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CIEL Ã‰TOILÃ‰ â€” Canvas
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
(function initSky() {
  const canvas = document.getElementById('sky');
  const ctx    = canvas.getContext('2d');

  const stars = [];
  const STAR_COUNT = 200;

  function resize() {
    canvas.width  = window.innerWidth;
    canvas.height = window.innerHeight;
  }

  function createStars() {
    stars.length = 0;
    for (let i = 0; i < STAR_COUNT; i++) {
      stars.push({
        x:    Math.random() * canvas.width,
        y:    Math.random() * canvas.height,
        r:    Math.random() * 1.4 + 0.2,
        alpha: Math.random(),
        speed: Math.random() * 0.008 + 0.002,
        phase: Math.random() * Math.PI * 2,
      });
    }
  }

  function drawStars(t) {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    stars.forEach(s => {
      const a = 0.3 + 0.7 * Math.abs(Math.sin(t * s.speed + s.phase));
      ctx.beginPath();
      ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
      ctx.fillStyle = `rgba(200,215,255,${a})`;
      ctx.fill();
    });
    requestAnimationFrame(drawStars);
  }

  window.addEventListener('resize', () => { resize(); createStars(); });
  resize();
  createStars();
  requestAnimationFrame(drawStars);
})();

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PARTICULES FLOTTANTES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
(function initParticles() {
  const container = document.getElementById('particles');
  const symbols   = ['âœ¦', 'âœ§', 'â‹†', 'Â·', 'âœº', 'âœ»'];

  for (let i = 0; i < 18; i++) {
    const p = document.createElement('span');
    p.className = 'particle';
    p.textContent = symbols[Math.floor(Math.random() * symbols.length)];
    p.style.left     = Math.random() * 100 + 'vw';
    p.style.animationDuration  = (12 + Math.random() * 20) + 's';
    p.style.animationDelay     = (-Math.random() * 20) + 's';
    p.style.fontSize = (0.4 + Math.random() * 0.6) + 'rem';
    container.appendChild(p);
  }
})();

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DONNÃ‰ES DES SIGNES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const SIGNES = [
  {
    nom:      'BÃ©lier',
    emoji:    'â™ˆ',
    dates:    '21 mars â€” 19 avril',
    element:  'Feu ğŸ”¥',
    planete:  'Mars â€” planÃ¨te de l\'action, de l\'Ã©nergie et du courage.',
    perso:    'Pionnier intrÃ©pide et leader naturel, le BÃ©lier fonce tÃªte baissÃ©e vers ses objectifs. DotÃ© d\'une Ã©nergie dÃ©bordante et d\'une volontÃ© de fer, il ne connaÃ®t pas la demi-mesure.',
    compat:   'Lion, Sagittaire (signes de Feu) â€” et GÃ©meaux, Verseau pour une complÃ©mentaritÃ© intellectuelle.',
    traits:   ['Courageux', 'Impulsif', 'Ambitieux', 'Direct', 'CompÃ©titif', 'PassionnÃ©'],
    predictions: {
      M: [
        'Les astres vous placent au carrefour d\'une dÃ©cision majeure, {prenom}. Mars, votre gouvernante, insuffle une Ã©nergie guerriÃ¨re dans vos veines. Ce cycle s\'annonce propice aux initiatives audacieuses â€” un projet trop longtemps diffÃ©rÃ© trouvera enfin son heure. Dans votre vie affective, attendez-vous Ã  une rencontre Ã©lectrisante ou Ã  un renouveau passionnÃ©. Vos finances connaÃ®tront une croissance si vous savez canaliser vos impulsions.',
        'L\'Oracle perÃ§oit en vous, {prenom}, une flamme prÃªte Ã  embraser le monde. Les prochains mois vous verront surmonter un obstacle qui vous semblait insurmontable. Un alliÃ© inattendu surgira au moment prÃ©cis oÃ¹ vous en aurez besoin. Gardez votre dÃ©termination lÃ©gendaire, car la victoire est inscrite dans les Ã©toiles.',
      ],
      F: [
        'Les Ã©toiles rÃ©vÃ¨lent, {prenom}, que vous Ãªtes Ã  l\'aube d\'une mÃ©tamorphose puissante. Mars vous insuffle une audace rare â€” saisissez les opportunitÃ©s qui se prÃ©senteront au cours des prochaines lunes. Une relation ancienne pourrait se transformer en quelque chose de profond et durable. Votre intuition aiguisÃ©e sera votre meilleure alliÃ©e dans les choix professionnels Ã  venir.',
        'L\'Oracle vous voit, {prenom}, rayonner d\'une lumiÃ¨re guerriÃ¨re. Une Ã©preuve que vous traversez en ce moment n\'est que le prÃ©ambule Ã  une renaissance Ã©clatante. Fiez-vous Ã  votre premier instinct â€” il vous mÃ¨nera vers une destinÃ©e que vous n\'osez pas encore imaginer.',
      ],
      N: [
        'Les astres, {prenom}, vous placent au seuil d\'un nouveau cycle. L\'Ã©nergie martienne qui vous anime est une force rare â€” utilisez-la pour briser les frontiÃ¨res que les autres vous imposent. Une pÃ©riode de courage et d\'action s\'ouvre devant vous. Les Ã©toiles sourient Ã  ceux qui osent.',
      ],
    },
  },
  {
    nom:      'Taureau',
    emoji:    'â™‰',
    dates:    '20 avril â€” 20 mai',
    element:  'Terre ğŸŒ',
    planete:  'VÃ©nus â€” planÃ¨te de l\'amour, de la beautÃ© et de l\'abondance.',
    perso:    'Patient et dÃ©terminÃ©, le Taureau bÃ¢tit son monde avec mÃ©thode et tÃ©nacitÃ©. Sensuel et amoureux des plaisirs terrestres, il possÃ¨de un sens innÃ© de la beautÃ© et une fidÃ©litÃ© indÃ©fectible.',
    compat:   'Vierge, Capricorne (signes de Terre) â€” et Cancer, Poissons pour une harmonie Ã©motionnelle.',
    traits:   ['Patient', 'Fiable', 'Sensuel', 'TÃªtu', 'GÃ©nÃ©reux', 'Pragmatique'],
    predictions: {
      M: [
        'VÃ©nus tisse pour vous, {prenom}, une toile d\'opportunitÃ©s dorÃ©es. Votre patience lÃ©gendaire va enfin porter ses fruits dans les domaines financier et professionnel. Un projet auquel vous avez consacrÃ© du temps et de l\'Ã©nergie est sur le point d\'aboutir glorieusement. En amour, la stabilitÃ© que vous offrez sera reconnue et rÃ©compensÃ©e.',
        'L\'Oracle distingue en vous, {prenom}, une force tranquille que rien ne peut Ã©branler. Les prochaines lunes vous apporteront une opportunitÃ© de consolider votre patrimoine et votre sÃ©curitÃ©. Une personne du passÃ© pourrait revenir avec des intentions sincÃ¨res.',
      ],
      F: [
        'Les astres de VÃ©nus illuminent votre chemin, {prenom}. Votre sensibilitÃ© artistique attire vers vous des Ãªtres et des situations d\'une rare beautÃ©. Une pÃ©riode d\'abondance matÃ©rielle et affective s\'annonce â€” apprenez Ã  recevoir autant que vous donnez. Un voyage ou une rencontre issue d\'un lieu culturel transformera votre vision du monde.',
        'L\'Oracle voit votre jardin intÃ©rieur fleurir, {prenom}. Ce que vous avez semÃ© avec patience donnera bientÃ´t une rÃ©colte abondante. Ne laissez pas la peur de l\'inconnu vous retenir Ã  la lisiÃ¨re de votre propre bonheur.',
      ],
      N: [
        'VÃ©nus vous bÃ©nit, {prenom}, de sa lumiÃ¨re la plus douce. Un temps de rÃ©colte approche â€” tout ce que vous avez construit avec vos mains et votre cÅ“ur porte aujourd\'hui ses fruits. Accordez-vous la permission de profiter pleinement de ce que la vie vous offre.',
      ],
    },
  },
  {
    nom:      'GÃ©meaux',
    emoji:    'â™Š',
    dates:    '21 mai â€” 20 juin',
    element:  'Air ğŸ’¨',
    planete:  'Mercure â€” planÃ¨te de la communication, de l\'intellect et des Ã©changes.',
    perso:    'Vif et curieux, le GÃ©meaux est un camÃ©lÃ©on intellectuel qui s\'adapte Ã  toutes les situations. DotÃ© d\'un esprit brillant et d\'un don naturel pour la communication, il est le pont entre les idÃ©es et les personnes.',
    compat:   'Balance, Verseau (signes d\'Air) â€” et BÃ©lier, Lion pour une Ã©nergie complÃ©mentaire.',
    traits:   ['Curieux', 'Adaptable', 'Ã‰loquent', 'Versatile', 'Sociable', 'Inventif'],
    predictions: {
      M: [
        'Mercure agite ses ailes pour vous, {prenom}, et votre esprit brille comme jamais. Une idÃ©e que vous avez eu il y a longtemps est prÃªte Ã  prendre vie â€” ne la laissez pas s\'envoler. Des connexions inattendues dans votre rÃ©seau professionnel ouvriront des portes que vous ne soupÃ§onniez pas.',
        'L\'Oracle perÃ§oit un foisonnement d\'idÃ©es lumineuses autour de vous, {prenom}. Prenez le temps d\'en choisir une et de l\'approfondir â€” votre tendance Ã  la dispersion pourrait vous priver d\'un succÃ¨s remarquable. En amour, la sincÃ©ritÃ© sera votre plus grand atout.',
      ],
      F: [
        'Les Ã©toiles de Mercure vous dotent, {prenom}, d\'une Ã©loquence ensorcelante ce cycle. Vos mots ont le pouvoir de changer des esprits et de toucher des cÅ“urs. Une opportunitÃ© de vous exprimer publiquement â€” Ã©criture, prise de parole, crÃ©ation â€” pourrait transformer votre trajectoire.',
        'L\'Oracle vous voit briller, {prenom}, dans des conversations qui changent des vies. Votre double nature â€” Ã  la fois sÃ©rieuse et ludique â€” est un don prÃ©cieux. Embrassez vos contradictions, elles sont la source de votre gÃ©nie.',
      ],
      N: [
        'Mercure vous offre, {prenom}, des ailes pour votre pensÃ©e. Les Ã©changes et rencontres de ce cycle vous apporteront des rÃ©vÃ©lations qui rÃ©orienteront votre chemin. Restez ouvertÂ·e Ã  l\'inattendu â€” c\'est lÃ  que rÃ©side votre prochaine grande aventure.',
      ],
    },
  },
  {
    nom:      'Cancer',
    emoji:    'â™‹',
    dates:    '21 juin â€” 22 juillet',
    element:  'Eau ğŸŒŠ',
    planete:  'La Lune â€” astre de l\'Ã©motion, de l\'intuition et des cycles intÃ©rieurs.',
    perso:    'ProfondÃ©ment intuitif et empathique, le Cancer ressent le monde avec une intensitÃ© rare. Gardien de la mÃ©moire et de la famille, il possÃ¨de une sensibilitÃ© artistique et Ã©motionnelle hors du commun.',
    compat:   'Scorpion, Poissons (signes d\'Eau) â€” et Taureau, Vierge pour un ancrage rassurant.',
    traits:   ['Intuitif', 'Protecteur', 'Sensible', 'MÃ©moriel', 'CrÃ©atif', 'Tenace'],
    predictions: {
      M: [
        'La Lune, {prenom}, vous enveloppe de sa lumiÃ¨re argentÃ©e et rÃ©vÃ¨le des vÃ©ritÃ©s cachÃ©es en vous. Un cycle de transformation intÃ©rieure profonde s\'ouvre â€” ce que vous traversez en ce moment est un passage, non une impasse. Vos relations familiales seront au cÅ“ur d\'une guÃ©rison longtemps attendue.',
        'L\'Oracle voit en vous, {prenom}, un lac profond dont les eaux commencent Ã  se clarifier. Une dÃ©cision que vous avez repoussÃ©e ne peut plus attendre â€” votre intuition vous indique la voie juste. En amour, l\'authenticitÃ© remplacera avantageusement les dÃ©fenses que vous avez Ã©rigÃ©es.',
      ],
      F: [
        'La Lune chante pour vous, {prenom}, un cantique de renouveau. Votre sensibilitÃ©, si souvent perÃ§ue comme une fragilitÃ©, est en rÃ©alitÃ© votre superpower. Un projet crÃ©atif ou un acte de soin pour les autres vous apportera une satisfaction profonde et durable.',
        'L\'Oracle distingue en vous, {prenom}, une lumiÃ¨re intÃ©rieure prÃªte Ã  guÃ©rir tout ce qu\'elle touche. Osez partager vos vulnÃ©rabilitÃ©s â€” elles crÃ©eront les connexions les plus authentiques de votre vie.',
      ],
      N: [
        'La Lune vous berce, {prenom}, de ses marÃ©es douces et inÃ©vitables. Ce cycle appelle Ã  Ã©couter ce qui remonte du fond de vous â€” ces Ã©motions ne sont pas Ã  craindre mais Ã  honorer. Votre intuition est votre boussole la plus prÃ©cieuse.',
      ],
    },
  },
  {
    nom:      'Lion',
    emoji:    'â™Œ',
    dates:    '23 juillet â€” 22 aoÃ»t',
    element:  'Feu ğŸ”¥',
    planete:  'Le Soleil â€” astre de la vitalitÃ©, de l\'identitÃ© et de la souverainetÃ©.',
    perso:    'Majestueux et charismatique, le Lion est nÃ© pour rÃ©gner et illuminer tout ce qui l\'entoure. Son gÃ©nÃ©reux rayonnement, sa fiertÃ© naturelle et son sens du spectacle en font un Ãªtre inoubliable.',
    compat:   'BÃ©lier, Sagittaire (signes de Feu) â€” et GÃ©meaux, Balance pour une stimulation intellectuelle.',
    traits:   ['Charismatique', 'GÃ©nÃ©reux', 'Fier', 'Loyal', 'CrÃ©atif', 'MagnÃ©tique'],
    predictions: {
      M: [
        'Le Soleil, {prenom}, ne brille jamais aussi fort que lorsqu\'il vous couronne. Une pÃ©riode de reconnaissance et de gloire approche â€” vos talents seront enfin vus par les bonnes personnes. Un projet artistique ou de leadership atteindra son apogÃ©e dans les prochaines lunes.',
        'L\'Oracle vous voit, {prenom}, sur le point de prendre la place qui vous revient de droit. Cessez de vous diminuer pour rendre les autres confortables â€” votre lumiÃ¨re n\'Ã©touffe personne, elle inspire. L\'amour arrive sous la forme d\'un Ãªtre qui vous admire autant que vous le mÃ©ritez.',
      ],
      F: [
        'Le Soleil vous couronne, {prenom}, d\'une aurÃ©ole dorÃ©e que nul ne peut ignorer. Ce cycle vous appelle Ã  embrasser pleinement votre puissance crÃ©atrice â€” une Å“uvre ou une initiative vous survivra. Sur le plan sentimental, attendez-vous Ã  une passion qui correspond enfin Ã  votre capacitÃ© d\'aimer.',
        'L\'Oracle distingue en vous, {prenom}, une reine qui a trop longtemps attendu son trÃ´ne. Le moment est venu de rÃ©clamer ce que vous mÃ©ritez â€” dans votre carriÃ¨re, vos relations, votre vie.',
      ],
      N: [
        'Le Soleil brille pour vous, {prenom}, avec une intensitÃ© rare. Ce cycle vous demande d\'assumer pleinement votre lumiÃ¨re sans vous excuser de la possÃ©der. Les Ãªtres qui mÃ©ritent votre rayonnement sauront le reconnaÃ®tre et le chÃ©rir.',
      ],
    },
  },
  {
    nom:      'Vierge',
    emoji:    'â™',
    dates:    '23 aoÃ»t â€” 22 septembre',
    element:  'Terre ğŸŒ',
    planete:  'Mercure â€” planÃ¨te de l\'analyse, du discernement et de la prÃ©cision.',
    perso:    'Analytique et perfectionniste, la Vierge possÃ¨de un regard acÃ©rÃ© sur le monde et une capacitÃ© remarquable Ã  distinguer l\'essentiel du superflu. DÃ©vouÃ© et mÃ©ticuleux, il/elle excelle dans l\'art d\'amÃ©liorer tout ce qu\'il/elle touche.',
    compat:   'Taureau, Capricorne (signes de Terre) â€” et Cancer, Scorpion pour une profondeur partagÃ©e.',
    traits:   ['Analytique', 'Perfectionniste', 'DÃ©vouÃ©', 'MÃ©ticuleux', 'Discret', 'Fiable'],
    predictions: {
      M: [
        'Mercure aiguise votre regard, {prenom}, pour percevoir ce que d\'autres ne voient pas. Un problÃ¨me complexe qui vous prÃ©occupe trouvera une solution Ã©lÃ©gante dans les prochaines semaines. Votre expertise sera rÃ©clamÃ©e dans un domaine oÃ¹ vous pouvez faire une diffÃ©rence rÃ©elle.',
        'L\'Oracle perÃ§oit en vous, {prenom}, un artisan de la perfection Ã  l\'aube de son chef-d\'Å“uvre. Ne laissez pas le perfectionnisme devenir un obstacle â€” l\'imparfait accompli vaut plus que l\'idÃ©al abandonnÃ©. Une relation se renforce par la communication claire que vous Ãªtes capable d\'apporter.',
      ],
      F: [
        'Les Ã©toiles de Mercure rÃ©vÃ¨lent, {prenom}, que votre intelligence rare est sur le point d\'Ãªtre reconnue. Un effort que vous avez fourni discrÃ¨tement et consciencieusement portera ses fruits de maniÃ¨re visible. Autorisez-vous Ã  recevoir les compliments sans les minimiser.',
        'L\'Oracle vous voit, {prenom}, Ã  la veille d\'une clarification bienvenue dans votre vie intime. Ce que vous cherchez depuis longtemps â€” stabilitÃ© et profondeur â€” est plus proche que vous ne le pensez.',
      ],
      N: [
        'Mercure vous offre, {prenom}, la clartÃ© de l\'analyse dans un monde de confusion. Votre discernement exceptionnel sera votre boussole ce cycle. Faites confiance Ã  ce regard affÃ»tÃ© que vous portez sur vous-mÃªme et sur les autres.',
      ],
    },
  },
  {
    nom:      'Balance',
    emoji:    'â™',
    dates:    '23 septembre â€” 22 octobre',
    element:  'Air ğŸ’¨',
    planete:  'VÃ©nus â€” planÃ¨te de la beautÃ©, de l\'harmonie et des relations.',
    perso:    'Diplomate nÃ© et esthÃ¨te raffinÃ©, la Balance aspire Ã  l\'harmonie en toutes choses. Son sens de la justice, son charme naturel et sa capacitÃ© Ã  voir tous les angles d\'une situation en font un mÃ©diateur exceptionnel.',
    compat:   'GÃ©meaux, Verseau (signes d\'Air) â€” et Lion, Sagittaire pour un Ã©quilibre dynamique.',
    traits:   ['Ã‰quitable', 'Charmant', 'Diplomatique', 'RaffinÃ©', 'IndÃ©cis', 'Sociable'],
    predictions: {
      M: [
        'VÃ©nus vous sourit, {prenom}, et l\'univers conspire Ã  placer la beautÃ© sur votre chemin. Une dÃ©cision longtemps diffÃ©rÃ©e ne peut plus l\'Ãªtre â€” et la Balance que vous Ãªtes le sait. Choisissez avec votre cÅ“ur, pas seulement votre raison, et l\'harmonie que vous cherchez se manifestera.',
        'L\'Oracle voit, {prenom}, un partenariat â€” professionnel ou amoureux â€” qui pourrait transformer votre existence. La clÃ© est votre courage Ã  ouvrir la conversation que vous repoussez depuis trop longtemps.',
      ],
      F: [
        'VÃ©nus orchestre pour vous, {prenom}, une symphonie d\'opportunitÃ©s relationnelles et esthÃ©tiques. Votre sens du beau vous guidera vers les choix les plus justes â€” faites confiance Ã  votre goÃ»t exquis. Une collaboration crÃ©ative pourrait naÃ®tre d\'une rencontre inattendue.',
        'L\'Oracle distingue en vous, {prenom}, une force d\'Ã©quilibre que votre entourage recherche sans le savoir. Vous avez le don de rÃ©concilier ce qui semble irrÃ©conciliable â€” c\'est une aptitude rare qui vous ouvre des portes inestimables.',
      ],
      N: [
        'VÃ©nus tisse pour vous, {prenom}, un rÃ©seau de connexions significatives. Ce cycle met l\'accent sur l\'Ã©quilibre â€” entre donner et recevoir, entre solitude et prÃ©sence. L\'harmonie que vous cherchez commence par l\'accord que vous faites avec vous-mÃªme.',
      ],
    },
  },
  {
    nom:      'Scorpion',
    emoji:    'â™',
    dates:    '23 octobre â€” 21 novembre',
    element:  'Eau ğŸŒŠ',
    planete:  'Pluton et Mars â€” planÃ¨tes de la transformation, du mystÃ¨re et de la puissance.',
    perso:    'MagnÃ©tique et profond, le Scorpion plonge lÃ  oÃ¹ les autres n\'osent pas regarder. DotÃ© d\'une intuition redoutable et d\'une intensitÃ© Ã©motionnelle exceptionnelle, il incarne le mystÃ¨re et la renaissance perpÃ©tuelle.',
    compat:   'Cancer, Poissons (signes d\'Eau) â€” et Capricorne, Vierge pour une complÃ©mentaritÃ© solide.',
    traits:   ['Intense', 'Perspicace', 'MagnÃ©tique', 'DÃ©terminÃ©', 'MystÃ©rieux', 'Transformateur'],
    predictions: {
      M: [
        'Pluton, {prenom}, vous convoque Ã  une transformation qui changera tout. Ce qui meurt en vous actuellement prÃ©pare une renaissance d\'une puissance rare. Vos ennemis et obstacles ne sont que des catalyseurs de votre prochaine incarnation. En amour, une connexion d\'Ã¢me s\'annonce â€” rare, intense, inoubliable.',
        'L\'Oracle perÃ§oit en vous, {prenom}, un phÅ“nix Ã  la veille de son envol. La pÃ©riode d\'obscuritÃ© que vous traversez n\'est pas une fin â€” c\'est une matrice. Ce qui Ã©mergera de vous dans les prochaines lunes Ã©tonnera jusqu\'Ã  ceux qui vous croient connaÃ®tre.',
      ],
      F: [
        'Les forces de Pluton rÃ©vÃ¨lent, {prenom}, une puissance intÃ©rieure que vous-mÃªme sous-estimez. Ce cycle vous demande d\'aller au fond de vos dÃ©sirs les plus profonds et de leur accorder le droit d\'exister. Une vÃ©ritÃ© longtemps refoulÃ©e cherche Ã  faire surface â€” accueillez-la, elle est libÃ©ratrice.',
        'L\'Oracle vous voit, {prenom}, exercer un magnÃ©tisme dÃ©vastateur et irrÃ©sistible. Utilisez ce pouvoir avec sagesse â€” les Ãªtres attirÃ©s vers vous en ce moment mÃ©ritent votre authenticitÃ© totale.',
      ],
      N: [
        'Pluton vous transforme, {prenom}, comme il transforme tout ce qu\'il touche. Ce cycle n\'est pas pour les Ã¢mes timorÃ©es â€” mais vous n\'en Ãªtes pas une. Plongez dans les profondeurs de vous-mÃªme avec confiance : ce que vous trouverez lÃ  changera votre vie.',
      ],
    },
  },
  {
    nom:      'Sagittaire',
    emoji:    'â™',
    dates:    '22 novembre â€” 21 dÃ©cembre',
    element:  'Feu ğŸ”¥',
    planete:  'Jupiter â€” planÃ¨te de l\'expansion, de la chance et de la philosophie.',
    perso:    'Aventurier de l\'esprit et de l\'espace, le Sagittaire vit pour l\'exploration et la quÃªte de sens. Optimiste irrÃ©pressible et philosophe nÃ©, il incarne la libertÃ© et l\'enthousiasme Ã  l\'Ã©tat pur.',
    compat:   'BÃ©lier, Lion (signes de Feu) â€” et Balance, Verseau pour une communion intellectuelle.',
    traits:   ['Aventurier', 'Optimiste', 'Philosophe', 'Libre', 'Direct', 'GÃ©nÃ©reux'],
    predictions: {
      M: [
        'Jupiter ouvre devant vous, {prenom}, une autoroute vers l\'horizon. Un voyage â€” physique ou intellectuel â€” est sur le point de remodeler votre vision du monde. Une opportunitÃ© d\'expansion professionnelle pointera son nez lÃ  oÃ¹ vous l\'attendiez le moins. Votre optimisme, souvent mis Ã  l\'Ã©preuve, sera votre meilleur investissement.',
        'L\'Oracle voit en vous, {prenom}, un archer dont la flÃ¨che trouvera sa cible aprÃ¨s plusieurs essais. Ne changez pas votre viser â€” c\'est votre portÃ©e que vous sous-estimez. Un mentor ou maÃ®tre inattendu apparaÃ®t dans votre chemin pour vous rÃ©vÃ©ler votre potentiel rÃ©el.',
      ],
      F: [
        'Jupiter vous bÃ©nit, {prenom}, de sa chance expansive et gÃ©nÃ©reuse. Ce cycle vous invite Ã  dire oui lÃ  oÃ¹ vous avez l\'habitude de vous restreindre. Un apprentissage, un voyage ou une rencontre internationale pourrait changer le cap de votre destinÃ©e.',
        'L\'Oracle distingue en vous, {prenom}, une exploratrice Ã  la veille de sa plus grande dÃ©couverte â€” celle de son propre territoire intÃ©rieur. L\'aventure extÃ©rieure n\'est que le reflet de ce voyage plus intime.',
      ],
      N: [
        'Jupiter vous offre, {prenom}, ses dons les plus prÃ©cieux : chance, expansion et sens. Ce cycle est une invitation Ã  penser plus grand, Ã  rÃªver plus loin, Ã  oser l\'improbable. L\'univers conspire en votre faveur quand vous lui faites confiance.',
      ],
    },
  },
  {
    nom:      'Capricorne',
    emoji:    'â™‘',
    dates:    '22 dÃ©cembre â€” 19 janvier',
    element:  'Terre ğŸŒ',
    planete:  'Saturne â€” planÃ¨te de la discipline, de la persÃ©vÃ©rance et du temps.',
    perso:    'Architecte de sa propre destinÃ©e, le Capricorne gravit les montagnes de la vie avec une dÃ©termination sans pareille. Ambitieux et disciplinÃ©, il possÃ¨de une maturitÃ© innÃ©e et une vision Ã  long terme qui impressionne.',
    compat:   'Taureau, Vierge (signes de Terre) â€” et Scorpion, Poissons pour une profondeur complice.',
    traits:   ['Ambitieux', 'DisciplinÃ©', 'Patient', 'Responsable', 'StratÃ¨ge', 'RÃ©aliste'],
    predictions: {
      M: [
        'Saturne, votre gardien, {prenom}, valide chaque effort fourni avec une prÃ©cision divine. Ce cycle marque l\'aboutissement d\'un travail long et patient â€” une promotion, une reconnaissance ou un succÃ¨s tangible est imminent. MÃ©fiez-vous de la tentation de tout contrÃ´ler en amour â€” lÃ¢cher prise est aussi une force.',
        'L\'Oracle perÃ§oit en vous, {prenom}, un bÃ¢tisseur Ã  l\'apogÃ©e de son Å“uvre. Chaque pierre que vous avez posÃ©e avec soin construit aujourd\'hui une cathÃ©drale. Une personne de confiance entrera dans votre vie pour l\'enrichir sans menacer votre indÃ©pendance.',
      ],
      F: [
        'Saturne vous couronne, {prenom}, de l\'autoritÃ© de ceux qui ont vraiment mÃ©ritÃ© leur place. Ce cycle vous offre la reconnaissance longtemps diffÃ©rÃ©e. Permettez-vous de cÃ©lÃ©brer â€” votre succÃ¨s n\'est pas un accident, c\'est le rÃ©sultat de votre incroyable rigueur.',
        'L\'Oracle vous voit, {prenom}, Ã  l\'orÃ©e d\'un chapitre oÃ¹ votre force silencieuse sera enfin visible. Un partenaire qui apprÃ©cie votre ambition autant que votre cÅ“ur se profilera Ã  l\'horizon.',
      ],
      N: [
        'Saturne, {prenom}, honore votre persÃ©vÃ©rance de la seule faÃ§on qui compte : les rÃ©sultats. Ce cycle marque la rÃ©colte d\'efforts investis dans la durÃ©e. Votre patience, si souvent incomprise, est votre arme secrÃ¨te la plus puissante.',
      ],
    },
  },
  {
    nom:      'Verseau',
    emoji:    'â™’',
    dates:    '20 janvier â€” 18 fÃ©vrier',
    element:  'Air ğŸ’¨',
    planete:  'Uranus et Saturne â€” planÃ¨tes de l\'innovation, de la rÃ©bellion et de la vision.',
    perso:    'Visionnaire en avance sur son temps, le Verseau pense et agit hors des sentiers battus. Humaniste dans l\'Ã¢me, il porte en lui la promesse d\'un monde meilleur et n\'hÃ©site pas Ã  briser les conventions pour y parvenir.',
    compat:   'GÃ©meaux, Balance (signes d\'Air) â€” et BÃ©lier, Sagittaire pour une Ã©nergie progressiste.',
    traits:   ['Visionnaire', 'Original', 'Humaniste', 'IndÃ©pendant', 'Innovant', 'Rebelle'],
    predictions: {
      M: [
        'Uranus vous propulse, {prenom}, vers un avenir que vous seul pouvez imaginer. Une idÃ©e rÃ©volutionnaire que vous couvez depuis longtemps est prÃªte Ã  changer la donne â€” pour vous et pour votre communautÃ©. Les structures qui vous Ã©touffaient vont se fissurer pour laisser entrer la lumiÃ¨re de votre gÃ©nie.',
        'L\'Oracle voit en vous, {prenom}, l\'Ã©claireur d\'un groupe qui a besoin de votre vision pour avancer. Un rÃ´le de leadership atypique s\'offre Ã  vous â€” pas celui de chef traditionnel, mais de celui qui montre le chemin vers ce que personne d\'autre ne voit encore.',
      ],
      F: [
        'Les Ã©toiles d\'Uranus vous rÃ©vÃ¨lent, {prenom}, comme une pionniÃ¨re Ã  l\'orÃ©e d\'un territoire inexplorÃ©. Ce cycle vous invite Ã  faire confiance Ã  votre excentricitÃ© â€” ce qui vous diffÃ©rencie est prÃ©cisÃ©ment ce dont le monde a besoin. Une collaboration avec des esprits aussi libres que le vÃ´tre s\'annonce fructueuse.',
        'L\'Oracle distingue en vous, {prenom}, une flamme d\'avant-garde qui illumine ceux qui ont la chance de croiser votre chemin. Ne compromettez pas votre authenticitÃ© pour Ãªtre acceptÃ©e â€” les bonnes personnes vous trouveront.',
      ],
      N: [
        'Uranus vous galvanise, {prenom}, de son Ã©nergie de rupture et de renaissance. Ce cycle vous demande de rompre avec ce qui ne vous ressemble plus pour embrasser une version de vous-mÃªme plus libre et plus vraie. Votre originalitÃ© est votre boussole â€” suivez-la.',
      ],
    },
  },
  {
    nom:      'Poissons',
    emoji:    'â™“',
    dates:    '19 fÃ©vrier â€” 20 mars',
    element:  'Eau ğŸŒŠ',
    planete:  'Neptune et Jupiter â€” planÃ¨tes du rÃªve, de la spiritualitÃ© et de la compassion.',
    perso:    'Mystique et empathique, le Poissons nage entre le visible et l\'invisible avec une grÃ¢ce naturelle. DotÃ© d\'une imagination dÃ©bordante et d\'une sensibilitÃ© artistique profonde, il perÃ§oit ce que les autres ne ressentent mÃªme pas.',
    compat:   'Cancer, Scorpion (signes d\'Eau) â€” et Taureau, Capricorne pour un ancrage bienveillant.',
    traits:   ['Empathique', 'Intuitif', 'CrÃ©atif', 'RÃªveur', 'Compassionnel', 'Mystique'],
    predictions: {
      M: [
        'Neptune, {prenom}, vous offre le don des songes lucides. Un rÃªve rÃ©current ou une intuition persistante porte un message important â€” prenez le temps de l\'Ã©couter dans le silence. Votre crÃ©ativitÃ© est Ã  son apogÃ©e : ce que vous crÃ©ez en ce moment vient d\'une source plus profonde que votre seul talent.',
        'L\'Oracle perÃ§oit en vous, {prenom}, une Ã¢me de guÃ©risseur dont le monde a besoin. Un acte de compassion que vous poserez naturellement transformera une vie â€” peut-Ãªtre la vÃ´tre. L\'amour qui vous attend est celui d\'une Ã¢me sÅ“ur qui comprend votre profondeur sans chercher Ã  l\'expliquer.',
      ],
      F: [
        'Neptune tisse pour vous, {prenom}, un voile de possibilitÃ©s enchanteresses. Votre intuition est votre gift le plus prÃ©cieux ce cycle â€” Ã©coutez-la avant votre intellect. Une inspiration artistique ou spirituelle pourrait vous emmener vers une expression de vous-mÃªme que vous n\'avez jamais osÃ©e.',
        'L\'Oracle vous voit, {prenom}, Ã  la croisÃ©e des mondes â€” celui du rÃªve et du rÃ©el. Votre capacitÃ© Ã  naviguer entre les deux est un talent rare. Permettez-vous de manifester vos visions les plus douces en actions concrÃ¨tes.',
      ],
      N: [
        'Neptune vous berce, {prenom}, de ses vagues les plus profondes. Ce cycle vous invite Ã  plonger dans votre monde intÃ©rieur pour en ramener des trÃ©sors que vous partagerez avec ceux que vous aimez. Votre sensibilitÃ© est votre force, jamais votre faiblesse.',
      ],
    },
  },
];

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LOGIQUE PRINCIPALE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

// Initialiser la date max (pas de futur)
document.getElementById('dob').max = new Date().toISOString().split('T')[0];

function getSign(day, month) {
  const dates = [
    [3, 21], [4, 20], // BÃ©lier
    [4, 20], [5, 21], // Taureau
    [5, 21], [6, 21], // GÃ©meaux
    [6, 21], [7, 23], // Cancer
    [7, 23], [8, 23], // Lion
    [8, 23], [9, 23], // Vierge
    [9, 23],[10, 23], // Balance
    [10,23],[11, 22], // Scorpion
    [11,22],[12, 22], // Sagittaire
    [12,22], [1, 20], // Capricorne
    [1, 20], [2, 19], // Verseau
    [2, 19], [3, 21], // Poissons
  ];

  const checks = [
    (m,d) => m===3  && d>=21 || m===4  && d<20,  // BÃ©lier
    (m,d) => m===4  && d>=20 || m===5  && d<21,  // Taureau
    (m,d) => m===5  && d>=21 || m===6  && d<21,  // GÃ©meaux
    (m,d) => m===6  && d>=21 || m===7  && d<23,  // Cancer
    (m,d) => m===7  && d>=23 || m===8  && d<23,  // Lion
    (m,d) => m===8  && d>=23 || m===9  && d<23,  // Vierge
    (m,d) => m===9  && d>=23 || m===10 && d<23,  // Balance
    (m,d) => m===10 && d>=23 || m===11 && d<22,  // Scorpion
    (m,d) => m===11 && d>=22 || m===12 && d<22,  // Sagittaire
    (m,d) => m===12 && d>=22 || m===1  && d<20,  // Capricorne
    (m,d) => m===1  && d>=20 || m===2  && d<19,  // Verseau
    (m,d) => m===2  && d>=19 || m===3  && d<21,  // Poissons
  ];

  const idx = checks.findIndex(fn => fn(month, day));
  return SIGNES[idx >= 0 ? idx : 11];
}

function getPrediction(signe, genre, prenom) {
  const pool = signe.predictions[genre] || signe.predictions['N'];
  const raw  = pool[Math.floor(Math.random() * pool.length)];
  return raw.replace(/\{prenom\}/g, prenom);
}

function showError(msg) {
  const el = document.getElementById('errorMsg');
  el.textContent = 'âš  ' + msg;
  el.style.display = 'block';
  // Reset animation
  el.style.animation = 'none';
  el.offsetHeight; // reflow
  el.style.animation = '';
}

function hideError() {
  document.getElementById('errorMsg').style.display = 'none';
}

function consulterOracle() {
  const prenom = document.getElementById('prenom').value.trim();
  const genre  = document.getElementById('genre').value;
  const dob    = document.getElementById('dob').value;

  hideError();

  // Validation
  if (!prenom) { showError('Veuillez entrer votre prÃ©nom.'); return; }
  if (!genre)  { showError('Veuillez sÃ©lectionner votre genre.'); return; }
  if (!dob)    { showError('Veuillez entrer votre date de naissance.'); return; }

  const date  = new Date(dob);
  const day   = date.getDate();
  const month = date.getMonth() + 1;

  const signe = getSign(day, month);

  // â”€â”€ Remplir le DOM â”€â”€
  const civilite = genre === 'F' ? 'ChÃ¨re' : genre === 'M' ? 'Cher' : 'CherÂ·Ã¨re';

  // Via manipulation DOM directe
  document.getElementById('signEmoji').textContent    = signe.emoji;
  document.getElementById('greetingName').textContent = `${civilite} ${prenom}`;
  document.getElementById('signName').textContent     = signe.nom;
  document.getElementById('signDates').textContent    = signe.dates;
  document.getElementById('signElement').textContent  = `Ã‰lÃ©ment : ${signe.element}`;
  document.getElementById('signPerso').textContent    = signe.perso;
  document.getElementById('signPlanete').textContent  = signe.planete;
  document.getElementById('signCompat').textContent   = signe.compat;
  document.getElementById('predictionText').textContent = getPrediction(signe, genre, prenom);

  // Traits â€” crÃ©Ã©s dynamiquement
  const grid = document.getElementById('traitsGrid');
  grid.innerHTML = ''; // vide le grid
  signe.traits.forEach(trait => {
    const item = document.createElement('div');
    item.className = 'trait-item';
    item.textContent = trait;
    grid.appendChild(item); // DOM manipulation
  });

  // Afficher le rÃ©sultat, masquer formulaire
  const formCard = document.getElementById('formCard');
  const result   = document.getElementById('result');

  formCard.style.transition = 'opacity 0.4s, transform 0.4s';
  formCard.style.opacity    = '0';
  formCard.style.transform  = 'scale(0.95)';

  setTimeout(() => {
    formCard.style.display = 'none';
    result.style.display   = 'block';
    result.style.animation = 'none';
    result.offsetHeight;
    result.style.animation = 'revealResult 0.8s ease both';

    // Scroll doux vers le rÃ©sultat
    result.scrollIntoView({ behavior: 'smooth', block: 'start' });
  }, 400);

  // Effet de particules dorÃ©es au clic
  spawnGoldParticles();
}

function recommencer() {
  const formCard = document.getElementById('formCard');
  const result   = document.getElementById('result');

  result.style.display = 'none';

  formCard.style.display  = 'block';
  formCard.style.opacity  = '0';
  formCard.style.transform = 'scale(0.95)';

  setTimeout(() => {
    formCard.style.transition = 'opacity 0.5s, transform 0.5s';
    formCard.style.opacity    = '1';
    formCard.style.transform  = 'scale(1)';
  }, 50);

  // Reset champs
  document.getElementById('prenom').value = '';
  document.getElementById('genre').value  = '';
  document.getElementById('dob').value    = '';
  hideError();

  window.scrollTo({ top: 0, behavior: 'smooth' });
}

/* Effet particules au moment de la rÃ©vÃ©lation */
function spawnGoldParticles() {
  const symbols = ['âœ¦', 'âœ§', 'â‹†', 'â˜…', 'âœº'];
  for (let i = 0; i < 12; i++) {
    const p = document.createElement('span');
    p.style.cssText = `
      position:fixed;
      left:${Math.random()*100}vw;
      top:${Math.random()*100}vh;
      color:var(--gold);
      font-size:${0.6+Math.random()*0.8}rem;
      pointer-events:none;
      z-index:999;
      animation: burstParticle 1.2s ${Math.random()*0.3}s ease-out forwards;
    `;
    p.textContent = symbols[Math.floor(Math.random()*symbols.length)];
    document.body.appendChild(p);
    setTimeout(() => p.remove(), 1600);
  }
}

// CSS pour burst particles
const style = document.createElement('style');
style.textContent = `
  @keyframes burstParticle {
    0%   { opacity:1; transform:scale(0) rotate(0deg); }
    50%  { opacity:0.8; transform:scale(1.5) rotate(180deg); }
    100% { opacity:0; transform:scale(0.5) rotate(360deg) translateY(-30px); }
  }
`;
document.head.appendChild(style);

/* Touche EntrÃ©e sur le formulaire */
document.addEventListener('keydown', e => {
  if (e.key === 'Enter') consulterOracle();
});
</script>
</body>
</html>